{"version":3,"sources":["styles/theme.js","hooks/useModal.js","components/common/CustomModal.js","components/videoPlayer/TitleBanner.js","components/videoPlayer/MovieDetails.js","services/movie.js","hooks/useAlert.js","components/videoPlayer/AddComment.js","images/emptyAvatar.png","components/profile/UserProfile.js","components/videoPlayer/Profile.js","components/videoPlayer/Comments.js","images/video-banner.png","components/videoPlayer/Player.js","components/videoPlayer/index.js","images/emptyThumbnail.png","components/gallery/MovieCard.js","components/gallery/CustomSelect.js","components/gallery/CustomSearch.js","components/gallery/Filter.js","services/gallery.js","components/gallery/Index.js","utils/validationSchema.js","hooks/useField.js","utils/setAuthToken.js","services/auth.js","components/common/InputField.js","components/common/FormButton.js","utils/sharedFunctions.js","components/auth/RecoveryLinkForm.js","components/common/LogoButton.js","components/auth/OmniAuthLogin.js","images/google-logo.png","images/42-logo.png","components/auth/LoginForm.js","services/user.js","components/auth/CreateAccountForm.js","components/auth/PasswordResetForm.js","components/layout/Landing.js","components/profile/MyProfile/UpdatePhoto.js","components/profile/MyProfile/UpdatePassword.js","components/profile/MyProfile/UpdateInformation.js","components/profile/MyProfile/index.js","components/layout/Navbar.js","components/layout/Footer.js","App.js","i18n.js","index.js"],"names":["dark1","dark2","dark3","light1","light2","pink1","theme","createMuiTheme","palette","type","primary","main","background","default","secondary","text","typography","fontFamily","body2","fontWeight","appBar","color","overrides","MuiCssBaseline","body","backgroundColor","MuiDialogContent","root","MuiDialogTitle","MuiFormLabel","MuiOutlinedInput","position","borderColor","borderWidth","MuiButton","borderRadius","outlinedPrimary","outlinedSecondary","MuiAutocomplete","listbox","option","noOptions","useModal","component","maxWidth","useState","open","setOpen","handleClickOpen","handleClose","DialogTitle","withStyles","margin","padding","spacing","closeButton","right","top","grey","props","children","classes","onClose","other","disableTypography","className","Typography","variant","IconButton","aria-label","onClick","DialogContent","CustomModal","Dialog","fullWidth","aria-labelledby","id","useStyles","makeStyles","imdb","marginRight","year","genre","description","breakpoints","up","marginBottom","marginTop","TitleBanner","movie","isMobile","useMediaQuery","title","Box","mt","display","flexDirection","imdbRating","length","intro","MovieDetails","t","useTranslation","details","director","cast","subtitles","map","s","join","index","baseUrl","process","REACT_APP_BACKEND_URL","createComment","data","imdbCode","a","axios","post","res","getComments","get","setWatched","patch","getMovieData","useAlert","show","severity","message","values","setValues","showError","showSuccess","closeAlert","buttonStyle","width","input","AddComment","setRefresh","comment","setComment","btnDisabled","setBtnDisabled","alert","mountedRef","React","useRef","useEffect","current","handleComment","movieService","response","statusCode","Alert","OutlinedInput","multiline","rows","label","value","onChange","e","target","Button","size","disabled","paper","alignItems","imageContainer","height","overflow","justifyContent","image","maxHeight","cursor","username","UserProfile","user","Container","CssBaseline","gutterBottom","src","avatar","emptyAvatar","alt","firstname","lastname","defaultProps","PropTypes","shape","Profile","userProfileModal","Avatar","defaultAvatar","paddingLeft","Comments","comments","List","ListItem","ListItemAvatar","ListItemText","_id","Player","subsTracks","token","localStorage","getItem","playerRef","streamUrl","statusPlayer","setStatusPlayer","error","setError","buffering","window","location","reload","ref","playing","controls","pip","url","onPlay","light","img","playIcon","fontSize","onBuffer","onProgress","playedSeconds","loadedSeconds","showPreview","onError","err","code","onPause","onReady","onBufferEnd","onClickPreview","config","file","attributes","crossOrigin","tracks","style","fontStyle","LinearProgress","Loader","p","textAlign","CircularProgress","buildTracks","subsAvailableIn","subsLables","en","de","fi","ru","reduce","accum","lang","push","kind","srcLang","VideoPlayer","setMovie","setSubsTracks","loading","setLoading","refresh","seeds","m","down","boxShadow","cardMedia","minHeight","cardContent","overlay","opacity","watchedIcon","MovieCard","movieModal","Grid","item","xs","sm","md","lg","Card","CardActionArea","CardMedia","watched","thumbnail","emptyThumbnail","CardContent","Tooltip","CustomSelect","options","Autocomplete","getOptionLabel","getOptionSelected","renderInput","params","TextField","onKeyDown","FormControl","InputLabel","htmlFor","endAdornment","InputAdornment","labelWidth","Filter","clearInput","filter","setFilter","setSearch","key","setKey","selectOptions","ratings","name","genres","sorts","sort","py","container","direction","justify","CustomSearch","select","event","generateQueryParams","search","Object","keys","result","split","getMovies","page","Gallery","setUser","clearFilter","movies","setMovies","hasMore","pageState","setPageState","setClearInput","filterRef","pageToLoad","galleryService","moviesData","concat","status","userId","removeItem","v","dataLength","next","endMessage","loader","nameRegex","schema","yup","min","matches","max","email","password","loginEmail","loginPassword","updateUsername","test","updateName","useField","field","helperText","isValid","isInvalid","newValue","validate","then","catch","errors","setAuthToken","defaults","headers","authorization","login","setItem","recoveryLink","googleUrl","fortytwoUrl","getToken","InputField","required","autocomplete","inputRef","autoFocus","autoComplete","submit","FormButton","sharedFunctions","detail","param","reason","firstName","lastName","confirmPassword","oldPassword","form","RecoveryLinkForm","focusField","handleForgotPwd","preventDefault","authService","showErrors","focus","onSubmit","noValidate","button","buttonIcon","left","LogoButton","handleClick","logo","OmniAuthLogin","handleGoogleSignIn","console","log","handle42SignIn","LoginForm","history","useHistory","recoveryLinkModal","handleLogin","decoded","jwt_decode","Link","href","create","update","pwdUpdate","CreateAccountForm","setLang","langOptions","handleCreate","language","userService","i18next","changeLanguage","PasswordResetForm","useLocation","resetToken","titleMobile","box","video","pointerEvents","cover","backgroundSize","bottom","zIndex","alertContainer","Landing","passwordResetModal","pathname","loginModal","createAccountModal","align","allowFullScreen","alignSelf","deleteButton","UpdatePhoto","setAvatar","setAlert","accept","data-testid","reader","FileReader","files","match","onloadend","readAsDataURL","UpdatePassword","handleUpdate","handlePasswordUpdate","UpdateInformation","userData","find","handleInformationUpdate","column","MyProfile","setUserData","noAlert","passwordAlert","setPasswordAlert","handleErrorResponse","showAlert","avatarBase64String","updateInformationProps","updatePasswordProps","hasPw","withRouter","setClearFilter","profile","icon","AppBar","Toolbar","flexGrow","startIcon","stickyBottom","Footer","pt","pb","bgcolor","github","placement","App","startsWith","substr","checkToken","ThemeProvider","Navbar","exact","path","i18n","use","Backend","LanguageDetector","initReactI18next","init","fallbackLng","interpolation","escapeValue","ReactDOM","render","fallback","document","getElementById"],"mappings":"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","file":"static/js/main.c86d7fb3.chunk.js","sourcesContent":["import { createMuiTheme } from '@material-ui/core/styles';\n\nconst dark1 = '#060629';\nconst dark2 = '#121421';\nconst dark3 = '#1b1d2f';\nconst light1 = '#ffffff';\nconst light2 = '#707281';\nconst pink1 = '#fb3b64';\n// const purple = '#ba01e2';\n\nconst theme = createMuiTheme({\n  palette: {\n    type: 'dark',\n    primary: {\n      main: pink1,\n    },\n    background: {\n      default: dark1,\n      secondary: dark2,\n    },\n    text: {\n      primary: light1,\n      secondary: light2,\n    },\n  },\n  typography: {\n    fontFamily: ['Roboto', 'sans-serif'],\n    body2: {\n      fontWeight: 500,\n    },\n  },\n  appBar: {\n    color: dark2,\n  },\n  overrides: {\n    MuiCssBaseline: {\n      '@global': {\n        body: {\n          backgroundColor: dark1,\n        },\n      },\n    },\n    MuiDialogContent: {\n      root: {\n        backgroundColor: dark2,\n      },\n    },\n    MuiDialogTitle: {\n      root: {\n        backgroundColor: dark2,\n      },\n    },\n    MuiFormLabel: {\n      root: {\n        '&$focused': {\n          color: 'white',\n        },\n        '&focused': {\n          color: 'white',\n        },\n      },\n    },\n    MuiOutlinedInput: {\n      root: {\n        position: 'relative',\n        '& $notchedOutline': {\n          borderColor: light2,\n        },\n        '&:hover:not($disabled):not($focused):not($error) $notchedOutline': {\n          borderColor: 'white',\n          // Reset on touch devices, it doesn't add specificity\n          '@media (hover: none)': {\n            borderColor: light2,\n          },\n        },\n        '&$focused $notchedOutline': {\n          borderColor: light1,\n          borderWidth: 1,\n        },\n      },\n    },\n    MuiButton: {\n      root: {\n        borderRadius: 5, // square corners\n      },\n      outlinedPrimary: {\n        color: light1,\n        background: 'linear-gradient(90deg, #fb3b64 30%, #ba01e2 70%)',\n        '&:hover': {\n          // changes colors for hover state\n          background: dark1,\n          borderColor: pink1,\n        },\n      },\n      outlinedSecondary: {\n        color: light1,\n        '&:hover': {\n          // changes colors for hover state\n          background: 'linear-gradient(90deg, #fb3b64 30%, #ba01e2 70%)',\n          borderColor: pink1,\n        },\n      },\n    },\n    MuiAutocomplete: {\n      listbox: {\n        backgroundColor: dark3,\n      },\n      option: {\n        backgroundColor: dark3,\n      },\n      noOptions: {\n        backgroundColor: dark3,\n      },\n    },\n  },\n});\n\nexport default theme;\n","import { useState } from 'react';\n\nconst useModal = (component, maxWidth) => {\n  const [open, setOpen] = useState(false);\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n  const handleClose = () => {\n    setOpen(false);\n  };\n  return {\n    component,\n    open,\n    setOpen,\n    handleClickOpen,\n    handleClose,\n    maxWidth,\n  };\n};\n\nexport default useModal;\n","import React from 'react';\nimport { withStyles } from '@material-ui/core/styles';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport IconButton from '@material-ui/core/IconButton';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Typography from '@material-ui/core/Typography';\nimport PropTypes from 'prop-types';\n\nconst styles = (theme) => ({\n  root: {\n    margin: 0,\n    padding: theme.spacing(2),\n  },\n  closeButton: {\n    position: 'absolute',\n    right: theme.spacing(1),\n    top: theme.spacing(1),\n    color: theme.palette.grey[500],\n  },\n});\n\nconst DialogTitle = withStyles(styles)((props) => {\n  const { children, classes, onClose, ...other } = props;\n  return (\n    <MuiDialogTitle disableTypography className={classes.root} {...other}>\n      <Typography variant=\"h6\">{children}</Typography>\n      {onClose ? (\n        <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n          <CloseIcon />\n        </IconButton>\n      ) : null}\n    </MuiDialogTitle>\n  );\n});\n\nconst DialogContent = withStyles((theme) => ({\n  root: {\n    padding: theme.spacing(2),\n  },\n}))(MuiDialogContent);\n\nconst CustomModal = (props) => {\n  return (\n    <div>\n      <Dialog\n        fullWidth\n        maxWidth={props.maxWidth}\n        onClose={props.handleClose}\n        aria-labelledby=\"customized-dialog-title\"\n        open={props.open}>\n        <DialogTitle id=\"customized-dialog-title\" onClose={props.handleClose}></DialogTitle>\n        <DialogContent> {props.component}</DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\nCustomModal.propTypes = {\n  component: PropTypes.object.isRequired,\n  open: PropTypes.bool.isRequired,\n  setOpen: PropTypes.func.isRequired,\n  handleClickOpen: PropTypes.func.isRequired,\n  handleClose: PropTypes.func.isRequired,\n  maxWidth: PropTypes.string,\n};\n\nexport default CustomModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Box from '@material-ui/core/Box';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nconst useStyles = makeStyles((theme) => ({\n  imdb: {\n    color: theme.palette.primary.main,\n    marginRight: '1rem',\n  },\n  year: {\n    marginRight: '1rem',\n  },\n  genre: {\n    marginRight: '1rem',\n  },\n  description: {\n    color: theme.palette.text.secondary,\n    [theme.breakpoints.up('xs')]: {\n      marginBottom: '3rem',\n      marginTop: '1rem',\n    },\n    marginBottom: '1rem',\n    marginTop: '1rem',\n  },\n}));\n\nconst TitleBanner = ({ movie }) => {\n  const classes = useStyles();\n  const isMobile = useMediaQuery('(max-width:600px)');\n\n  return (\n    <div>\n      <Typography component=\"h1\" variant={isMobile ? 'h5' : 'h2'}>\n        {movie.title}\n      </Typography>\n      <Box mt={3} display=\"flex\" flexDirection={isMobile ? 'column' : 'row'}>\n        {movie.imdbRating >= 0 && (\n          <Typography variant=\"body2\" className={classes.imdb}>\n            IMDb {movie.imdbRating}\n          </Typography>\n        )}\n        <Typography variant=\"body2\" className={classes.genre}>\n          {movie.genre}\n        </Typography>\n        <Typography variant=\"body2\" className={classes.year}>\n          {movie.year}\n        </Typography>\n        {movie.length && <Typography variant=\"body2\">{movie.length} min</Typography>}\n      </Box>\n      <Typography variant=\"body1\" className={classes.description}>\n        {movie.description}\n      </Typography>\n    </div>\n  );\n};\n\nTitleBanner.propTypes = {\n  movie: PropTypes.object.isRequired,\n};\n\nexport default TitleBanner;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    [theme.breakpoints.up('xs')]: {\n      marginTop: '3rem',\n      marginBottom: '5rem',\n    },\n    marginBottom: '1rem',\n    marginTop: '2rem',\n  },\n  intro: {\n    marginTop: '1rem',\n    marginBottom: '1rem',\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst MovieDetails = ({ movie }) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const details = [\n    { text: movie.director ? `${t('movie.director')}: ${movie.director}` : '' },\n    { text: movie.cast ? `${t('movie.cast')}: ${movie.cast}` : '' },\n    {\n      text: `${t('movie.subtitles')}: ${\n        movie.subtitles && movie.subtitles.length > 0\n          ? movie.subtitles.map((s) => t(`form.${s}`)).join(', ')\n          : t('movie.notAvailable')\n      }`,\n    },\n  ];\n\n  return (\n    <div className={classes.root}>\n      {details.map((option, index) => {\n        return (\n          <Typography\n            key={`detail-${index}`}\n            variant=\"body2\"\n            className={classes.intro}\n          >\n            {option.text}\n          </Typography>\n        );\n      })}\n    </div>\n  );\n};\n\nMovieDetails.propTypes = {\n  movie: PropTypes.object.isRequired,\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\n// eslint-disable-next-line no-undef\nconst baseUrl = process.env.REACT_APP_BACKEND_URL + '/api/movies';\n\nconst createComment = async (data, imdbCode) => {\n  const res = await axios.post(`${baseUrl}/${imdbCode}/comments`, data);\n\n  return res.data;\n};\n\nconst getComments = async (imdbCode) => {\n  const res = await axios.get(`${baseUrl}/${imdbCode}/comments`);\n\n  return res.data;\n};\n\nconst setWatched = async (imdbCode) => {\n  const res = await axios.patch(`${baseUrl}/${imdbCode}`);\n\n  return res.data;\n};\n\nconst getMovieData = async (imdbCode) => {\n  const res = await axios.get(`${baseUrl}/${imdbCode}`);\n\n  return res.data;\n};\n\nexport default {\n  createComment,\n  getMovieData,\n  setWatched,\n  getComments,\n};\n","import { useState } from 'react';\n\nconst useAlert = () => {\n  const [values, setValues] = useState({ show: false, severity: '', message: '' });\n\n  const showError = (message) => {\n    setValues({\n      show: true,\n      severity: 'error',\n      message,\n    });\n  };\n\n  const showSuccess = (message) => {\n    setValues({\n      show: true,\n      severity: 'success',\n      message: message,\n    });\n  };\n\n  const closeAlert = () => {\n    setValues({\n      show: false,\n      severity: 'info',\n      message: '',\n    });\n  };\n\n  return {\n    values,\n    showError,\n    showSuccess,\n    closeAlert,\n  };\n};\n\nexport default useAlert;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport { Alert } from '@material-ui/lab';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\n\nimport movieService from '../../services/movie';\nimport useAlert from '../../hooks/useAlert';\n\nconst useStyles = makeStyles(() => ({\n  title: {\n    marginBottom: '2rem',\n  },\n  buttonStyle: {\n    marginTop: '2rem',\n    width: '15%',\n    borderColor: '#292b3c',\n    padding: '0.7rem',\n  },\n  input: {\n    '&.MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline': {\n      borderColor: '#292b3c',\n    },\n  },\n}));\n\nconst AddComment = ({ imdbCode, setRefresh }) => {\n  const classes = useStyles();\n  const [comment, setComment] = useState('');\n  const [btnDisabled, setBtnDisabled] = useState(false);\n  const alert = useAlert();\n  const { t } = useTranslation();\n  const mountedRef = React.useRef(true);\n\n  useEffect(() => {\n    return () => (mountedRef.current = false);\n  }, []);\n\n  const handleComment = async () => {\n    try {\n      setBtnDisabled(true);\n      await movieService.createComment({ comment }, imdbCode);\n      if (mountedRef.current === false) return null;\n      setComment('');\n      setRefresh(true);\n      alert.showSuccess(t('comment.success'));\n    } catch (err) {\n      if (err.response && err.response.data && mountedRef.current === true) {\n        switch (err.response.data.statusCode) {\n          case 400:\n            alert.showError(t('comment.invalidFormat'));\n            break;\n          case 401:\n            alert.showError(t('error.unauthorized'));\n            break;\n          case 500:\n            alert.showError(t('error.server'));\n            break;\n          default:\n            alert.showError(t('error.unexpected'));\n            break;\n        }\n      }\n    }\n    setBtnDisabled(false);\n  };\n\n  return (\n    <div>\n      <Typography component=\"h2\" variant=\"h5\" className={classes.title}>\n        {t('comment.leaveComment')}\n      </Typography>\n      {alert.values.show && (\n        <Alert\n          className={classes.title}\n          severity={alert.values.severity}\n          onClose={alert.closeAlert}\n        >\n          {alert.values.message}\n        </Alert>\n      )}\n      <OutlinedInput\n        fullWidth\n        multiline\n        rows=\"7\"\n        label=\"Leave your comment here\"\n        value={comment}\n        className={classes.input}\n        onChange={(e) => setComment(e.target.value)}\n      />\n      <Button\n        onClick={handleComment}\n        variant=\"outlined\"\n        color=\"secondary\"\n        size=\"small\"\n        disabled={btnDisabled}\n        className={classes.buttonStyle}\n      >\n        {t('comment.post')}\n      </Button>\n    </div>\n  );\n};\n\nAddComment.propTypes = {\n  imdbCode: PropTypes.string.isRequired,\n  setRefresh: PropTypes.func.isRequired,\n};\n\nexport default AddComment;\n","export default __webpack_public_path__ + \"static/media/emptyAvatar.1e3110ae.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport emptyAvatar from '../../images/emptyAvatar.png';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  imageContainer: {\n    width: '200px',\n    height: '200px',\n    overflow: 'hidden',\n    marginTop: '16px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  image: {\n    maxWidth: '200px',\n    maxHeight: '200px',\n    display: 'block',\n    cursor: 'pointer',\n  },\n  username: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst UserProfile = ({ user }) => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  return user ? (\n    <Container component=\"main\" className={classes.paper} maxWidth=\"xs\">\n      <CssBaseline />\n      <Typography component=\"h2\" variant=\"h5\" gutterBottom>\n        {t('profile.title')}\n      </Typography>\n      <Box className={classes.imageContainer}>\n        <img\n          className={classes.image}\n          src={user.avatar || emptyAvatar}\n          alt={user.username}\n        />\n      </Box>\n\n      <Typography variant=\"body1\" className={classes.username}>\n        {user.firstname} {user.lastname}\n      </Typography>\n      <Typography variant=\"body1\">{user.username}</Typography>\n    </Container>\n  ) : null;\n};\n\nUserProfile.defaultProps = {\n  user: PropTypes.shape({\n    username: '',\n    firstname: '',\n    lastname: '',\n    avatar: null,\n  }),\n};\n\nUserProfile.propTypes = {\n  user: PropTypes.shape({\n    username: PropTypes.string,\n    firstname: PropTypes.string,\n    lastname: PropTypes.string,\n    avatar: PropTypes.string,\n  }),\n};\n\nexport default UserProfile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport useModal from '../../hooks/useModal';\nimport UserProfile from '../profile/UserProfile';\nimport CustomModal from '../common/CustomModal';\n\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\n\nimport defaultAvatar from '../../images/emptyAvatar.png';\n\nconst Profile = ({ user }) => {\n  const userProfileModal = useModal(<UserProfile user={user} />);\n\n  return (\n    <div>\n      <Button onClick={userProfileModal.handleClickOpen}>\n        <Avatar alt={user.username} src={user.avatar ? user.avatar : defaultAvatar} />\n      </Button>\n      <CustomModal {...userProfileModal} />\n    </div>\n  );\n};\n\nProfile.propTypes = {\n  user: PropTypes.object.isRequired,\n};\n\nexport default Profile;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Profile from './Profile';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\n\nconst useStyles = makeStyles(() => ({\n  root: {\n    marginTop: '2rem',\n  },\n  comment: {\n    paddingLeft: 0,\n  },\n}));\n\nconst Comments = ({ comments }) => {\n  const classes = useStyles();\n\n  if (!comments) return <div></div>;\n\n  return (\n    <>\n      <div className={classes.root}>\n        <List>\n          {comments.map((comment) => {\n            return (\n              <ListItem\n                key={comment._id}\n                alignItems=\"flex-start\"\n                className={classes.comment}\n              >\n                <ListItemAvatar>\n                  <Profile user={comment.user} />\n                </ListItemAvatar>\n                <ListItemText\n                  primary={comment.user.username}\n                  secondary={\n                    <Typography component=\"span\" color=\"textSecondary\">\n                      {comment.comment}\n                    </Typography>\n                  }\n                />\n              </ListItem>\n            );\n          })}\n        </List>\n      </div>\n    </>\n  );\n};\n\nComments.propTypes = {\n  comments: PropTypes.array,\n};\n\nexport default Comments;\n","export default __webpack_public_path__ + \"static/media/video-banner.a05495e9.png\";","import React, { useState, useEffect, useRef } from 'react';\nimport ReactPlayer from 'react-player/lazy';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport PlayCircleFilledWhiteOutlined from '@material-ui/icons/PlayCircleFilledWhiteOutlined';\nimport Typography from '@material-ui/core/Typography';\n\nimport img from '../../images/video-banner.png';\nimport movieService from '../../services/movie';\n\nconst Player = ({ subsTracks, imdbCode }) => {\n  const token = localStorage.getItem('token');\n  const { t } = useTranslation();\n  const playerRef = useRef(null);\n  const streamUrl =\n    // eslint-disable-next-line no-undef\n    process.env.REACT_APP_BACKEND_URL + `/api/movies/${imdbCode}/play/${token}`;\n\n  const [statusPlayer, setStatusPlayer] = useState('');\n  const [error, setError] = useState(false);\n  const buffering = useRef(false);\n\n  const onClickPreview = () => {\n    setStatusPlayer(t('movie.buffering'));\n    buffering.current = true;\n  };\n\n  const onReady = () => {\n    buffering.current = false;\n  };\n\n  const onPlay = () => {\n    setStatusPlayer(t('movie.playing'));\n    movieService.setWatched(imdbCode);\n  };\n\n  const onBuffer = () => {\n    setStatusPlayer(t('movie.buffering'));\n    buffering.current = true;\n  };\n\n  const onBufferEnd = () => {\n    setStatusPlayer(t('movie.playing'));\n    buffering.current = false;\n  };\n\n  const onPause = () => {\n    setStatusPlayer(t('movie.paused'));\n  };\n\n  const onError = (err) => {\n    if (\n      err && err.target &&\n      err.target.error &&\n      (err.target.error.code === 3 ||\n        err.target.error.code === 4 ||\n        err.target.error.code === 1)\n    ) {\n      setStatusPlayer(t('movie.sourceFileError'));\n      setError(true);\n      playerRef.current.showPreview();\n    }\n  };\n\n  const onProgress = ({ playedSeconds, loadedSeconds }) => {\n    if (playedSeconds > loadedSeconds && !error) {\n      setStatusPlayer(t('movie.notLoadedError'));\n      playerRef.current.showPreview();\n    }\n  };\n\n  useEffect(() => {\n    return () => {\n      if (buffering.current === true) window.location.reload();\n    };\n  }, []);\n\n  return (\n    <div className=\"player-wrapper\">\n      <ReactPlayer\n        className=\"react-player\"\n        ref={playerRef}\n        playing={true}\n        controls={buffering.current === false}\n        pip={false}\n        url={streamUrl}\n        onPlay={onPlay}\n        width=\"100%\"\n        light={img}\n        playIcon={<PlayCircleFilledWhiteOutlined fontSize=\"large\" />}\n        onBuffer={onBuffer}\n        onProgress={onProgress}\n        onError={onError}\n        onPause={onPause}\n        onReady={onReady}\n        onBufferEnd={onBufferEnd}\n        onClickPreview={onClickPreview}\n        config={{\n          file: {\n            attributes: {\n              crossOrigin: 'true',\n            },\n            tracks: subsTracks,\n          },\n        }}\n      />\n\n      <div>\n        <Typography\n          variant=\"body2\"\n          style={{ color: '#707281', fontStyle: 'italic' }}\n        >\n          {statusPlayer}\n        </Typography>\n      </div>\n      {buffering.current === true && <LinearProgress />}\n    </div>\n  );\n};\n\nPlayer.propTypes = {\n  subsTracks: PropTypes.array.isRequired,\n  imdbCode: PropTypes.string.isRequired,\n};\n\nexport default Player;\n","import React, { useState, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { Alert } from '@material-ui/lab';\nimport Box from '@material-ui/core/Box';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport TitleBanner from './TitleBanner';\nimport MovieDetails from './MovieDetails';\nimport AddComment from './AddComment';\nimport Comments from './Comments';\nimport Player from './Player';\nimport movieService from '../../services/movie';\nimport useAlert from '../../hooks/useAlert';\n\nconst Loader = () => (\n  <Box p={3} textAlign=\"center\">\n    <CircularProgress />\n  </Box>\n);\n\nconst buildTracks = (imdbCode, subsAvailableIn, t) => {\n  const subsLables = { en: t('form.en'), de: t('form.de'), fi: t('form.fi'), ru: t('form.ru') };\n  // eslint-disable-next-line no-undef\n  const baseUrl = process.env.REACT_APP_BACKEND_URL;\n\n  const token = localStorage.getItem('token');\n\n  const tracks = subsAvailableIn.reduce((accum, lang) => {\n    accum.push({\n      label: subsLables[lang],\n      kind: 'subtitles',\n      src: baseUrl + `/api/movies/${imdbCode}/subtitles/${lang}/${token}`,\n      srcLang: lang,\n    });\n    return accum;\n  }, []);\n  return tracks;\n};\n\nconst VideoPlayer = (data) => {\n  const { t } = useTranslation();\n  const [movie, setMovie] = useState({});\n  const [subsTracks, setSubsTracks] = useState([]);\n  const alert = useAlert();\n  const [loading, setLoading] = useState(true);\n  const isMobile = useMediaQuery('(max-width:600px)');\n  const [refresh, setRefresh] = useState(false);\n  const mountedRef = React.useRef(true);\n  const seedersMin = -1;\n\n  const getMovieData = async () => {\n    try {\n      const res = await movieService.getMovieData(data.movie.imdbCode);\n      if (!mountedRef.current) return null;\n      setMovie({ ...res, imdbRating: data.movie.imdbRating });\n      if (data.movie.seeds <= seedersMin) {\n        alert.showError(t('movie.noSeeds'));\n      }\n      setSubsTracks(buildTracks(data.movie.imdbCode, res.subtitles, t));\n      setRefresh(false);\n    } catch (err) {\n      if (err.response && err.response.data) {\n        switch (err.response.data.statusCode) {\n          case 401:\n            alert.showError(t('error.unauthorized'));\n            break;\n          case 404:\n            alert.showError(t('error.notFound'));\n            break;\n          case 500:\n            alert.showError(t('error.server'));\n            break;\n          default:\n            alert.showError(t('error.unexpected'));\n            break;\n        }\n      }\n    }\n    setLoading(false);\n  };\n\n  useEffect(() => {\n    getMovieData();\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  const getComments = async () => {\n    try {\n      const res = await movieService.getComments(data.movie.imdbCode);\n      if (!mountedRef.current) return null;\n      setMovie({ ...movie, comments: res.comments });\n      setRefresh(false);\n    } catch (err) {\n      if (err.response && err.response.data) {\n        switch (err.response.data.statusCode) {\n          case 401:\n            alert.showError(t('error.unauthorized'));\n            break;\n          case 500:\n            alert.showError(t('error.server'));\n            break;\n          default:\n            alert.showError(t('error.unexpected'));\n            break;\n        }\n      }\n    }\n  };\n\n  useEffect(() => {\n    getComments();\n  }, [refresh]);\n\n  if (loading) {\n    return <Loader />;\n  }\n\n  return (\n    <Box m={isMobile ? 1 : 7}>\n      {alert.values.show && (\n        <Alert\n          style={{ marginBottom: '2rem' }}\n          severity={alert.values.severity}\n          onClose={alert.closeAlert}>\n          {alert.values.message}\n        </Alert>\n      )}\n      <TitleBanner movie={movie} />\n      {data.movie && data.movie.seeds > seedersMin && (\n        <Player subsTracks={subsTracks} imdbCode={data.movie.imdbCode} seeds={data.movie.seeds} />\n      )}\n      <MovieDetails movie={movie} />\n      {data.movie && data.movie.imdbCode && (\n        <AddComment imdbCode={data.movie.imdbCode} setRefresh={setRefresh} />\n      )}\n      {movie.comments && <Comments comments={movie.comments} />}\n    </Box>\n  );\n};\n\nexport default VideoPlayer;\n","export default __webpack_public_path__ + \"static/media/emptyThumbnail.7287d0fc.png\";","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport Tooltip from '@material-ui/core/Tooltip';\nimport VisibilityIcon from '@material-ui/icons/Visibility';\n\nimport useModal from '../../hooks/useModal';\nimport CustomModal from '../common/CustomModal';\nimport VideoPlayer from '../videoPlayer/index';\nimport emptyThumbnail from '../../images/emptyThumbnail.png';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    maxWidth: 345,\n    margin: 'auto',\n    [theme.breakpoints.down('xs')]: {\n      width: 'auto',\n    },\n    '&.MuiPaper-elevation1': {\n      boxShadow: '0px 15px 13px 0px rgba(0,0,0,0.2)',\n    },\n    '&.MuiPaper-rounded': {\n      borderRadius: '0px',\n    },\n  },\n  cardMedia: {\n    height: '400px',\n    [theme.breakpoints.down('xs')]: {\n      height: '250px',\n    },\n    width: '100%',\n    objectFit: 'cover',\n  },\n  title: {\n    marginBottom: '10px',\n    minHeight: '65px',\n  },\n  cardContent: {\n    textAlign: 'center',\n    backgroundColor: theme.palette.background.default,\n  },\n  overlay: {\n    opacity: 0.5,\n  },\n  watchedIcon: {\n    position: 'absolute',\n    top: '10px',\n    right: '10px',\n  },\n}));\n\nconst MovieCard = ({ movie }) => {\n  const movieModal = useModal(<VideoPlayer movie={movie} />, 'lg');\n  const classes = useStyles();\n\n  return (\n    <Grid item xs={12} sm={6} md={4} lg={3}>\n      <Card onClick={movieModal.handleClickOpen} className={classes.root}>\n        <CardActionArea>\n          <CardMedia\n            className={\n              classes.cardMedia + ' ' + (movie.watched ? classes.overlay : '')\n            }\n            component=\"img\"\n            alt={movie.title}\n            image={movie.thumbnail}\n            title={movie.title}\n            onError={(e) => (e.target.src = emptyThumbnail)}\n          />\n          <CardContent className={classes.cardContent}>\n            {movie.watched && (\n              <Tooltip title=\"watched movie\">\n                <VisibilityIcon className={classes.watchedIcon} />\n              </Tooltip>\n            )}\n            <Typography\n              color={movie.watched ? 'textSecondary' : 'textPrimary'}\n              component=\"h2\"\n              variant=\"h6\"\n              className={classes.title}\n            >\n              {movie.title}\n            </Typography>\n            <Box justifyContent=\"space-between\" display=\"flex\">\n              <Typography color=\"textSecondary\">\n                IMDb {movie.imdbRating}\n              </Typography>\n              <Typography color=\"textSecondary\">{movie.year}</Typography>\n            </Box>\n          </CardContent>\n        </CardActionArea>\n      </Card>\n      <CustomModal {...movieModal} />\n    </Grid>\n  );\n};\n\nMovieCard.propTypes = {\n  movie: PropTypes.object.isRequired,\n};\n\nexport default MovieCard;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport TextField from '@material-ui/core/TextField';\n\nconst CustomSelect = ({ options, label, id, onChange }) => {\n  return (\n    <Autocomplete\n      size=\"small\"\n      id={id}\n      onChange={onChange}\n      options={options}\n      getOptionLabel={(option) => option.title}\n      getOptionSelected={(option) => option.title}\n      renderInput={(params) => <TextField {...params} variant=\"outlined\" label={label} />}\n    />\n  );\n};\n\nCustomSelect.propTypes = {\n  options: PropTypes.array.isRequired,\n  label: PropTypes.string.isRequired,\n  id: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default CustomSelect;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport FormControl from '@material-ui/core/FormControl';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport SearchIcon from '@material-ui/icons/Search';\nimport Button from '@material-ui/core/Button';\n\nconst CustomSelect = ({ onChange, label, onClick, onKeyDown }) => {\n  return (\n    <FormControl size=\"small\" fullWidth variant=\"outlined\">\n      <InputLabel htmlFor=\"outlined-adornment-amount\">{label}</InputLabel>\n      <OutlinedInput\n        type=\"search\"\n        style={{ borderRadius: '50px' }}\n        id=\"outlined-adornment-amount\"\n        onKeyDown={onKeyDown}\n        onChange={onChange}\n        endAdornment={\n          <InputAdornment position=\"end\">\n            <Button onClick={onClick}>\n              <SearchIcon />\n            </Button>\n          </InputAdornment>\n        }\n        labelWidth={140}\n      />\n    </FormControl>\n  );\n};\n\nCustomSelect.propTypes = {\n  label: PropTypes.string.isRequired,\n  onChange: PropTypes.func.isRequired,\n  onKeyDown: PropTypes.func.isRequired,\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default CustomSelect;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\n\nimport CustomSelect from './CustomSelect';\nimport CustomSearch from './CustomSearch';\nimport options from './options.json';\n\nconst Filter = ({ clearInput, filter, setFilter, setSearch }) => {\n  const { t } = useTranslation();\n  const [key, setKey] = React.useState(false);\n  const onKeyDown = (e) => e.key === 'Enter' && setFilter({ ...filter });\n  const selectOptions = [\n    {\n      id: 'movie-imdb',\n      label: 'filter.ratingLabel',\n      options: options.ratings,\n      name: 'imdb',\n    },\n    {\n      id: 'movie-genre',\n      label: 'filter.genreLabel',\n      options: options.genres.map((genre) => {\n        return { title: t(genre.title), genre: genre.genre };\n      }),\n      name: 'genre',\n    },\n    {\n      id: 'movie-sort',\n      label: 'filter.sortLabel',\n      options: options.sorts.map((sort) => {\n        return { title: t(sort.title), sort: sort.sort };\n      }),\n      name: 'sort',\n    },\n  ];\n  React.useEffect(() => {\n    setKey(!key);\n  }, [clearInput]);\n\n  return (\n    <Box py={5}>\n      <Grid container direction=\"row\" spacing={1} justify=\"space-evenly\">\n        <Grid item xs={12} sm={12} md={12} lg={3}>\n          <CustomSearch\n            key={key}\n            onKeyDown={onKeyDown}\n            onChange={(e) => setSearch(e.target.value)}\n            label={t('filter.searchLabel')}\n            onClick={() => {\n              setFilter({ ...filter });\n            }}\n          />\n        </Grid>\n        {selectOptions.map((select) => (\n          <Grid key={select.id} item xs={12} sm={4} md={4} lg={3}>\n            <CustomSelect\n              key={key}\n              id={select.id}\n              label={t(select.label)}\n              options={select.options}\n              onChange={(event, value) =>\n                setFilter({ ...filter, [select.name]: (value && value[select.name]) || null })\n              }\n            />\n          </Grid>\n        ))}\n      </Grid>\n    </Box>\n  );\n};\n\nFilter.propTypes = {\n  clearInput: PropTypes.bool.isRequired,\n  filter: PropTypes.object.isRequired,\n  setFilter: PropTypes.func.isRequired,\n  setSearch: PropTypes.func.isRequired,\n};\n\nexport default Filter;\n","import axios from 'axios';\n\n// eslint-disable-next-line no-undef\nconst baseUrl = process.env.REACT_APP_BACKEND_URL + '/api/movies';\n\nconst generateQueryParams = (filter, search) => {\n  let params = Object.keys(filter).reduce((result, key) => {\n    if (key === 'sort' && filter[key]) {\n      const sorts = filter[key].split(' ');\n      result += `&sort_by=${sorts[0]}&order_by=${sorts[1]}`;\n    } else {\n      result += filter[key] ? `&${key}=${filter[key]}` : '';\n    }\n\n    return result;\n  }, '');\n  if (!filter.sort) {\n    params += search ? '&sort_by=title&order_by=asc' : '&sort_by=rating&order_by=desc';\n  }\n  params += search ? `&search=${search}` : '';\n\n  return params;\n};\n\nconst getMovies = async (page, filter, search) => {\n  const params = generateQueryParams(filter, search);\n  const res = await axios.get(baseUrl + `?page=${page}${params}`);\n\n  return res.data;\n};\n\nexport default { getMovies };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\nimport InfiniteScroll from 'react-infinite-scroll-component';\n\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport CircularProgress from '@material-ui/core/CircularProgress';\n\nimport MovieCard from './MovieCard';\nimport Filter from './Filter';\nimport galleryService from '../../services/gallery';\n\nconst Loader = () => (\n  <Box p={3} textAlign=\"center\">\n    <CircularProgress />\n  </Box>\n);\n\nconst Gallery = ({ setUser, clearFilter }) => {\n  const { t } = useTranslation();\n  const [movies, setMovies] = React.useState([]);\n  const [pageState, setPageState] = React.useState({ page: 0, hasMore: true, loading: true });\n  const [search, setSearch] = React.useState('');\n  const [filter, setFilter] = React.useState({});\n  const [clearInput, setClearInput] = React.useState(false);\n  const mountedRef = React.useRef(true);\n  const filterRef = React.useRef(false);\n\n  const getMovies = async () => {\n    try {\n      const pageToLoad = filterRef.current ? 1 : pageState.page + 1;\n      const moviesData = await galleryService.getMovies(pageToLoad, filter, search);\n      if (!mountedRef.current) return null;\n      if (!filterRef.current) {\n        setMovies(movies.concat(moviesData.movies));\n      } else {\n        setMovies(moviesData.movies);\n        filterRef.current = false;\n      }\n      setPageState({\n        page: moviesData.movies.length === 0 ? t('gallery.noMovies') : pageToLoad,\n        loading: false,\n        hasMore: moviesData.hasMore,\n      });\n    } catch (e) {\n      if (e.response && e.response.status === 401) {\n        setUser({ userId: '', lang: '' });\n        localStorage.removeItem('token');\n      }\n    }\n  };\n\n  React.useEffect(() => {\n    return () => {\n      mountedRef.current = false;\n    };\n  }, []);\n\n  React.useEffect(() => {\n    if (Object.values(filter).filter((v) => v).length > 0 || search) {\n      setSearch('');\n      setFilter({});\n      setClearInput(!clearInput);\n    }\n  }, [clearFilter]);\n\n  React.useEffect(() => {\n    filterRef.current = true;\n    setPageState({ ...pageState, loading: true });\n    getMovies();\n  }, [filter]);\n\n  return (\n    <div>\n      <Filter clearInput={clearInput} setSearch={setSearch} filter={filter} setFilter={setFilter} />\n      {pageState.loading ? (\n        <Loader />\n      ) : (\n        <InfiniteScroll\n          style={{ overflow: 'none' }}\n          dataLength={movies.length}\n          next={getMovies}\n          hasMore={pageState.hasMore}\n          endMessage={\n            <Box p={3} textAlign=\"center\">\n              {pageState.page}\n            </Box>\n          }\n          loader={<Loader />}>\n          <Grid container spacing={3}>\n            {movies.map((movie, index) => (\n              <MovieCard key={index} movie={movie} />\n            ))}\n          </Grid>\n          <Box p={3}></Box>\n        </InfiniteScroll>\n      )}\n    </div>\n  );\n};\n\nGallery.propTypes = {\n  setUser: PropTypes.func.isRequired,\n  clearFilter: PropTypes.bool.isRequired,\n};\n\nexport default Gallery;\n","import * as yup from 'yup';\n\n// eslint-disable-next-line\nconst nameRegex = /^[\\w'A-Za-z\\u0430-\\u044f -][^_,.!¡?÷¿/\\\\+=@#$%ˆ&*(){}|~<>;:[\\]]*$/;\n\nconst schema = yup.object().shape({\n  username: yup\n    .string()\n    .min(2, 'formValidation.minLen')\n    .matches(nameRegex, 'formValidation.nameFormat')\n    .max(45, 'formValidation.maxLen'),\n  name: yup\n    .string()\n    .min(2, 'formValidation.minLen')\n    .matches(nameRegex, 'formValidation.nameFormat')\n    .max(45, 'formValidation.maxLen'),\n  email: yup.string().email('formValidation.emailFormat'),\n  password: yup\n    .string()\n    .matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.{6,})/, 'formValidation.passwordFormat'),\n  loginEmail: yup.string(),\n  loginPassword: yup.string(),\n  updateUsername: yup\n    .string()\n    .matches(\n      /^[\\w'A-Za-z\\u0430-\\u044f -][^_,.!¡?÷¿/\\\\+=@#$%ˆ&*(){}|~<>;:[\\]]*$|^$/,\n      'formValidation.nameFormat',\n    )\n    .test(\n      'empty-or-min-2-chars',\n      'formValidation.minLen',\n      (username) => !username || username.length > 1,\n    )\n    .max(45, 'formValidation.maxLen'),\n  updateName: yup\n    .string()\n    .test('empty-or-min-2-chars', 'formValidation.minLen', (name) => !name || name.length > 1)\n    .matches(nameRegex, 'formValidation.nameFormat')\n    .max(45, 'formValidation.maxLen'),\n});\n\nexport default schema;\n","import { useState } from 'react';\n\nimport schema from '../utils/validationSchema';\nimport { useTranslation } from 'react-i18next';\n\nconst useField = (type, field, id) => {\n  const { t } = useTranslation();\n  const [values, setValues] = useState({\n    value: '',\n    helperText: '',\n    error: false,\n    isValid: '',\n    isInvalid: '',\n  });\n\n  const onChange = (event) => {\n    const newValue = event.target.value;\n\n    schema\n      .validate({ [field]: newValue })\n      .then(() => {\n        setValues({\n          value: newValue,\n          error: false,\n          helperText: newValue ? t('formValidation.correct') : '',\n        });\n      })\n      .catch((err) => {\n        setValues({\n          value: newValue,\n          error: true,\n          helperText: t(err.errors),\n        });\n      });\n  };\n\n  const setError = (text) => {\n    setValues({ ...values, helperText: t(text), error: true });\n  };\n\n  return {\n    type,\n    onChange,\n    helperText: values.helperText,\n    value: values.value,\n    error: values.error,\n    values,\n    setValues,\n    id,\n    setError,\n  };\n};\n\nexport default useField;\n","import axios from 'axios';\n\nconst setAuthToken = (token) => {\n  if (token) {\n    axios.defaults.headers.authorization = 'Bearer ' + token;\n  } else {\n    delete axios.defaults.headers.authorization;\n  }\n};\n\nexport default setAuthToken;\n","import axios from 'axios';\nimport setAuthToken from '../utils/setAuthToken';\n\n// eslint-disable-next-line no-undef\nconst baseUrl = process.env.REACT_APP_BACKEND_URL + '/api/auth';\n\nconst login = async (email, password) => {\n  const res = await axios.post(baseUrl + '/login', { email, password });\n  localStorage.setItem('token', res.data.token);\n  setAuthToken(res.data.token);\n  return res.data;\n};\n\nconst recoveryLink = async (email) => {\n  const res = await axios.post(baseUrl + '/recoverylink', { email });\n  return res.data;\n};\n\nconst googleUrl = async () => {\n  const res = await axios.get(baseUrl + '/google');\n  return res.data;\n};\n\nconst fortytwoUrl = async () => {\n\tconst res = await axios.get(baseUrl + '/42');\n\treturn res.data;\n};\n\nconst getToken = async (key) => {\n\tconst res = await axios.get(baseUrl + `/token/${key}`);\n\tif (res.status === 200 && res.data.token)\n\t\tlocalStorage.setItem('token', res.data.token);\n\treturn res.data.token;\n};\n\nexport default { login, recoveryLink, getToken, googleUrl, fortytwoUrl };\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport TextField from '@material-ui/core/TextField';\n\nconst InputField = ({ values, label = '', required, autocomplete = 'off', inputRef = null }) => {\n  const { error, value, onChange, helperText, type, id } = values;\n  return (\n    <TextField\n      id={id}\n      error={error}\n      value={value}\n      onChange={onChange}\n      variant=\"outlined\"\n      margin=\"normal\"\n      required={required}\n      fullWidth\n      name={label}\n      label={label}\n      helperText={helperText}\n      autoFocus\n      autoComplete={autocomplete}\n      type={type}\n      inputRef={inputRef}\n    />\n  );\n};\n\nInputField.propTypes = {\n  values: PropTypes.object,\n  label: PropTypes.string,\n  required: PropTypes.bool,\n  autocomplete: PropTypes.string,\n  inputRef: PropTypes.object,\n};\n\nexport default InputField;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst FormButton = ({ name }) => {\n  const classes = useStyles();\n  return (\n    <Button\n      type=\"submit\"\n      fullWidth\n      variant=\"outlined\"\n      color=\"primary\"\n      className={classes.submit}\n    >\n      {name}\n    </Button>\n  );\n};\n\nFormButton.propTypes = {\n  name: PropTypes.string.isRequired,\n};\n\nexport default FormButton;\n","const sharedFunctions = {};\n\nsharedFunctions.showErrors = (errors, params) => {\n  errors.map((detail) => {\n    if (detail.param === 'username') {\n      params.username.setError(detail.reason);\n    } else if (detail.param === 'firstname') {\n      params.firstName.setError(detail.reason);\n    } else if (detail.param === 'lastname') {\n      params.lastName.setError(detail.reason);\n    } else if (detail.param === 'email') {\n      params.email.setError(detail.reason);\n    } else if (detail.param === 'password') {\n      params.password.setError(detail.reason);\n    } else if (detail.param === 'confirmPassword') {\n      params.confirmPassword.setError(detail.reason);\n    } else if (detail.param === 'oldPassword') {\n      params.oldPassword.setError(detail.reason);\n    }\n  });\n};\nexport default sharedFunctions;\n","import React, { useRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport authService from '../../services/auth';\nimport useField from '../../hooks/useField';\n\nimport InputField from '../common/InputField';\nimport FormButton from '../common/FormButton';\nimport sharedFunctions from '../../utils/sharedFunctions';\nimport useAlert from '../../hooks/useAlert';\n\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { Alert } from '@material-ui/lab';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n}));\n\nconst RecoveryLinkForm = () => {\n  const { t } = useTranslation();\n  const focusField = useRef();\n  const email = useField('email', 'email', 'forgot-email');\n  const alert = useAlert();\n\n  const handleForgotPwd = async (event) => {\n    event.preventDefault();\n    try {\n      await authService.recoveryLink(email.value);\n      alert.showSuccess(t('pwRecovery.checkEmail'));\n    } catch (err) {\n      switch (err.response.data.statusCode) {\n        case 400:\n          sharedFunctions.showErrors(err.response.data.details, {\n            email,\n          });\n          break;\n        case 500:\n          alert.showError(t('error.server'));\n          break;\n        default:\n          alert.showError(t('error.unexpected'));\n          break;\n      }\n    }\n  };\n\n  useEffect(() => {\n    focusField.current && focusField.current.focus();\n  }, []);\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Typography component=\"h1\" variant=\"h5\">\n          {t('pwRecovery.title')}\n        </Typography>\n\n        <form className={classes.form} onSubmit={handleForgotPwd} noValidate>\n          <InputField values={email} label={t('form.email')} required={true} />\n          {alert.values.show && (\n            <Alert severity={alert.values.severity} onClose={alert.closeAlert}>\n              {alert.values.message}\n            </Alert>\n          )}\n          <FormButton name={t('pwRecovery.send')} />\n        </form>\n        <div>{t('pwRecovery.helper')}</div>\n      </div>\n    </Container>\n  );\n};\n\nexport default RecoveryLinkForm;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    margin: theme.spacing(3, 0, 0),\n    borderColor: '#1b1d2f',\n    background: '#1b1d2f',\n  },\n  buttonIcon: {\n    position: 'absolute',\n    left: '1px',\n    width: '32px',\n    height: '32px',\n    background: 'white',\n    padding: '7px',\n    borderRadius: '3px',\n    marginRight: '15px',\n  },\n}));\n\nconst LogoButton = ({ handleClick, name, logo }) => {\n  const classes = useStyles();\n  return (\n    <Button\n      type=\"submit\"\n      variant=\"outlined\"\n      fullWidth\n      color=\"secondary\"\n      className={classes.button}\n      onClick={handleClick}>\n      <img className={classes.buttonIcon} src={logo} alt={name} title={name} />\n      {name}\n    </Button>\n  );\n};\n\nLogoButton.propTypes = {\n  handleClick: PropTypes.func.isRequired,\n  name: PropTypes.string.isRequired,\n  logo: PropTypes.string.isRequired,\n};\n\nexport default LogoButton;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport authService from '../../services/auth';\nimport LogoButton from '../common/LogoButton';\nimport GoogleLogo from '../../images/google-logo.png';\nimport FortyTwoLogo from '../../images/42-logo.png';\n\nconst OmniAuthLogin = () => {\n  const { t } = useTranslation();\n  const handleGoogleSignIn = async () => {\n    try {\n      const data = await authService.googleUrl();\n      window.location = data.url;\n    } catch (e) {\n      console.log();\n    }\n  };\n\n  const handle42SignIn = async () => {\n    try {\n      const data = await authService.fortytwoUrl();\n      window.location = data.url;\n    } catch (e) {\n      console.log();\n    }\n  };\n\n  return (\n    <>\n      <LogoButton handleClick={handleGoogleSignIn} name={t('login.google')} logo={GoogleLogo} />\n      <LogoButton handleClick={handle42SignIn} name={t('login.42')} logo={FortyTwoLogo} />\n    </>\n  );\n};\n\nexport default OmniAuthLogin;\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAACX0lEQVRoBe2ZO07EMBCGl2eLoEfbIHEDSq6wQAUnQBQIDkENlIAooQDE4zhIaEXBAQBRgXj9f5CjyJvYk13HC2ZGmk3WHjvzzUy8TrbVUtEIaAQ0AhoBjYBGYFgRGGnwwlOYe1Q4/xPsvgq2HMfxoeUz9IRmvm2ccHJC+HTXDCoc5wTjOO8rdENoS/suNLgMCkuHJMCE7UDnob6gmv7gwCFg4b8X2MDSdmjAoWB9wEXYoQHXgd2jlx6pKuk3jFuyxkbP8BYckC5QEljylAGXwdI2KnATsGXAVbBRgddxtdCZJQClmGEXLG2jZLhJ2CIwYZfZ4JDGgevC9rObY4YlsIxDo8B1YPfhTD+whGhDV3gikMaA68AewNF+YQWMuckEzq6hZiflOr7Dbi0f6TlR2IqoHqL932Q2JuxVRcDtkmYZr0JFUqeMFVYU0npGXKCkmZX+pGUe1MnsEUbEumcVFsG271nNbFazJR8plLH9nFyC+dO0iYP0qecUtjPQ6cBqv93kAnUJtUu27DvLWAwL2+xNXtlEMdvadKQgxcdDnx+3hXGu0zF07oy7LBLqI+wJdMEupYQYcxTeHhfQbMeVOjBhz6D5S4SUgXtgAd5K9R4m7Dm0Z/VOMcOTVbBoF/+7R9u/IITlPduTWeM8S/rBfAl8nMV8LK1YYjLbiXVB+zp3aPBtGkz/oBsPwt4Irtf9rYvWB5x/hErkBUbH0EWob8zzbwW+h/PcsweXFFdpZ5AU2BmeBDo1wwkk0YmgGXaGJ4HOJn+HuWWVVhD/ElHRCGgENAIaAY2ARkAjkFYEvgElUn/FMFj7OwAAAABJRU5ErkJggg==\"","import React, { useRef, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport PropTypes from 'prop-types';\nimport jwt_decode from 'jwt-decode';\nimport { useHistory } from 'react-router-dom';\n\nimport useField from '../../hooks/useField';\nimport useModal from '../../hooks/useModal';\nimport authService from '../../services/auth';\n\nimport InputField from '../common/InputField';\nimport RecoveryLinkForm from './RecoveryLinkForm';\nimport CustomModal from '../common/CustomModal';\nimport FormButton from '../common/FormButton';\nimport OmniAuthLogin from './OmniAuthLogin';\n\nimport Link from '@material-ui/core/Link';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { Alert } from '@material-ui/lab';\nimport useAlert from '../../hooks/useAlert';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n}));\n\nconst LoginForm = ({ setUser }) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const focusField = useRef();\n  const email = useField('email', 'loginEmail', 'login-email');\n  const password = useField('password', 'loginPassword', 'login-password');\n  const alert = useAlert();\n  const classes = useStyles();\n\n  const recoveryLinkModal = useModal(<RecoveryLinkForm />);\n\n  const handleLogin = async (event) => {\n    event.preventDefault();\n    if (email.value === '') {\n      email.setValues({\n        ...email.values,\n        helperText: t('formValidation.required'),\n        error: true,\n      });\n      return;\n    }\n\n    if (password.value === '') {\n      password.setValues({\n        ...password.values,\n        helperText: t('formValidation.required'),\n        error: true,\n      });\n      return;\n    }\n\n    try {\n      await authService.login(email.value, password.value);\n      const decoded = jwt_decode(localStorage.getItem('token'));\n      setUser({ userId: decoded.id, lang: decoded.lang });\n      history.push('/');\n    } catch (err) {\n      switch (err.response.data.statusCode) {\n        case 400:\n          alert.showError(t('formValidation.invalidCredentials'));\n          break;\n        case 500:\n          alert.showError(t('formValidation.server'));\n          break;\n        default:\n          alert.showError(t('formValidation.unexpected'));\n          break;\n      }\n    }\n  };\n\n  useEffect(() => {\n    focusField.current && focusField.current.focus();\n  }, []);\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Typography component=\"h2\" variant=\"h5\">\n          {t('login.title')}\n        </Typography>\n        <OmniAuthLogin />\n        <Box mt={3}>{t('form.or')}</Box>\n        <form className={classes.form} onSubmit={handleLogin} noValidate>\n          <InputField\n            values={email}\n            label={t('form.email')}\n            required={true}\n            inputRef={focusField}\n          />\n          <InputField\n            values={password}\n            label={t('form.password')}\n            autocomplete=\"current-password\"\n            required={true}\n          />\n          {alert.values.show && (\n            <Alert severity={alert.values.severity} onClose={alert.closeAlert}>\n              {alert.values.message}\n            </Alert>\n          )}\n          <FormButton name={t('login.login')} />\n        </form>\n        <Box>\n          <Link href=\"#\" onClick={recoveryLinkModal.handleClickOpen}>\n            {t('login.forgotPw')}\n          </Link>\n        </Box>\n      </div>\n      <CustomModal {...recoveryLinkModal} />\n    </Container>\n  );\n};\n\nLoginForm.propTypes = {\n  setUser: PropTypes.func.isRequired,\n};\n\nexport default LoginForm;\n","import axios from 'axios';\n\n// eslint-disable-next-line no-undef\nconst baseUrl = process.env.REACT_APP_BACKEND_URL + '/api/users';\n\nconst get = async (userId) => {\n  const res = await axios.get(baseUrl + `/${userId}`);\n  return res.data;\n};\n\nconst create = async (data) => {\n  const res = await axios.post(baseUrl + '/', data);\n  return res.data;\n};\n\nconst update = async (userId, data) => {\n  const res = await axios.patch(baseUrl + `/${userId}`, data);\n  if (res.data.token) {\n    localStorage.setItem('token', res.data.token);\n  }\n  return res.data;\n};\n\nconst pwdUpdate = async (data) => {\n  const res = await axios.patch(baseUrl + '/', data);\n  return res.data;\n};\n\nexport default { get, create, update, pwdUpdate };\n","import React, { useState, useEffect, useRef } from 'react';\nimport i18next from 'i18next';\nimport { useTranslation } from 'react-i18next';\nimport useField from '../../hooks/useField';\n\nimport userService from '../../services/user';\nimport sharedFunctions from '../../utils/sharedFunctions';\n\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Box from '@material-ui/core/Box';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { Alert } from '@material-ui/lab';\n\nimport InputField from '../common/InputField';\nimport FormButton from '../common/FormButton';\nimport OmniAuthLogin from './OmniAuthLogin';\nimport useAlert from '../../hooks/useAlert';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  select: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n    marginBottom: theme.spacing(2),\n  },\n}));\n\nconst CreateAccountForm = () => {\n  const classes = useStyles();\n  const { t } = useTranslation();\n  const focusField = useRef();\n\n  const username = useField('text', 'username', 'create-username');\n  const firstName = useField('text', 'name', 'create-firstname');\n  const lastName = useField('text', 'name', 'create-lastname');\n  const email = useField('email', 'email', 'create-email');\n  const password = useField('password', 'password', 'create-password');\n  const confirmPassword = useField(\n    'password',\n    'confirmPassword',\n    'create-confirm-password'\n  );\n  const [lang, setLang] = useState({ label: t('form.en'), code: 'en' });\n  const alert = useAlert();\n\n  const langOptions = [\n    { label: t('form.en'), code: 'en' },\n    { label: t('form.de'), code: 'de' },\n    { label: t('form.fi'), code: 'fi' },\n    { label: t('form.ru'), code: 'ru' },\n  ];\n\n  const handleCreate = async (event) => {\n    event.preventDefault();\n    try {\n      const data = {\n        username: username.value,\n        email: email.value,\n        firstname: firstName.value,\n        lastname: lastName.value,\n        password: password.value,\n        confirmPassword: confirmPassword.value,\n        language: lang.code,\n      };\n      await userService.create(data);\n      alert.showSuccess(t('createAccount.success'));\n    } catch (err) {\n      switch (err.response.data.statusCode) {\n        case 400:\n          sharedFunctions.showErrors(err.response.data.details, {\n            username,\n            firstName,\n            lastName,\n            email,\n            password,\n            confirmPassword,\n          });\n          break;\n        case 500:\n          alert.showError(t('error.server'));\n          break;\n        default:\n          alert.showError(t('error.unexpected'));\n          break;\n      }\n    }\n  };\n\n  const handleLangChange = (event, value) => {\n    if (value !== null) {\n      i18next.changeLanguage(value.code);\n      setLang({ ...value, label: t(`form.${value.code}`) });\n    }\n  };\n\n  useEffect(() => {\n    focusField.current && focusField.current.focus();\n  }, []);\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Typography component=\"h2\" variant=\"h5\">\n          {t('createAccount.title')}\n        </Typography>\n        <OmniAuthLogin />\n        <Box mt={3}>{t('form.or')}</Box>\n        <form className={classes.form} onSubmit={handleCreate} noValidate>\n          <InputField\n            values={username}\n            label={t('form.username')}\n            required={true}\n            inputRef={focusField}\n          />\n          <InputField\n            values={firstName}\n            label={t('form.firstName')}\n            required={true}\n          />\n          <InputField\n            values={lastName}\n            label={t('form.lastName')}\n            required={true}\n          />\n          <InputField values={email} label={t('form.email')} required={true} />\n          <InputField\n            values={password}\n            label={t('form.password')}\n            autocomplete=\"new-password\"\n            required={true}\n          />\n          <InputField\n            values={confirmPassword}\n            label={t('form.confirmPassword')}\n            autocomplete=\"new-password\"\n            required={true}\n          />\n          <Autocomplete\n            id=\"language\"\n            required={true}\n            value={lang}\n            options={langOptions}\n            getOptionLabel={(option) => option.label}\n            getOptionSelected={(option, value) => option.value === value.value}\n            className={classes.select}\n            onChange={handleLangChange}\n            renderInput={(params) => (\n              <TextField\n                required\n                {...params}\n                label={t('form.selectLanguage')}\n                variant=\"outlined\"\n              />\n            )}\n          />\n          {alert.values.show && (\n            <Alert severity={alert.values.severity} onClose={alert.closeAlert}>\n              {alert.values.message}\n            </Alert>\n          )}\n          <FormButton name={t('createAccount.create')} />\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default CreateAccountForm;\n","import React, { useState, useEffect, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport { makeStyles } from '@material-ui/core/styles';\nimport jwt_decode from 'jwt-decode';\n\nimport useField from '../../hooks/useField';\nimport userService from '../../services/user';\nimport sharedFunctions from '../../utils/sharedFunctions';\n\nimport InputField from '../common/InputField';\nimport FormButton from '../common/FormButton';\n\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport { Alert } from '@material-ui/lab';\nimport { useLocation } from 'react-router-dom';\nimport useAlert from '../../hooks/useAlert';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n}));\n\nconst PasswordResetForm = () => {\n  const location = useLocation();\n  const { t } = useTranslation();\n  const focusField = useRef();\n  const password = useField('password', 'password', 'reset-password');\n  const confirmPassword = useField('password', 'password', 'reset-confirm-password');\n  const alert = useAlert();\n  const [user, setUser] = useState({});\n\n  useEffect(() => {\n    const token = location.search.split('=')[1];\n    if (!token) return alert.showError(t('pwRecovery.invalidLink'));\n\n    try {\n      const decoded = jwt_decode(token);\n      setUser({\n        userId: decoded.id,\n        resetToken: token,\n      });\n    } catch (err) {\n      alert.showError(t('pwRecovery.invalidLink'));\n    }\n\n    focusField.current && focusField.current.focus();\n  }, []);\n\n  const handleClick = async (event) => {\n    event.preventDefault();\n    try {\n      const data = {\n        ...user,\n        password: password.value,\n        confirmPassword: confirmPassword.value,\n      };\n\n      await userService.pwdUpdate(data);\n      alert.showSuccess(t('pwRecovery.success'));\n    } catch (err) {\n      switch (err.response.data.statusCode) {\n        case 400:\n          sharedFunctions.showErrors(err.response.data.details, {\n            password,\n            confirmPassword,\n          });\n          err.response.data.details.map((detail) => {\n            if (detail.param === 'userId' || detail.param === 'resetToken') {\n              alert.showError(t('pwRecovery.invalidLink'));\n            }\n          });\n\n          break;\n        case 500:\n          alert.showError(t('error.server'));\n          break;\n        default:\n          alert.showError(t('error.unexpected'));\n          break;\n      }\n    }\n  };\n\n  const classes = useStyles();\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Typography component=\"h1\" variant=\"h5\">\n          {t('pwRecovery.pwResetTitle')}\n        </Typography>\n        <form className={classes.form} onSubmit={handleClick} noValidate>\n          <InputField\n            values={password}\n            label={t('form.newPassword')}\n            autocomplete=\"new-password\"\n            required={true}\n            inputRef={focusField}\n          />\n          <InputField\n            values={confirmPassword}\n            label={t('form.confirmPassword')}\n            autocomplete=\"confirm-password\"\n            required={true}\n          />\n          {alert.values.show && (\n            <Alert severity={alert.values.severity} onClose={alert.closeAlert}>\n              {alert.values.message}\n            </Alert>\n          )}\n          <FormButton name={t('pwRecovery.save')} />\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default PasswordResetForm;\n","import React, { useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { useHistory } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from '@material-ui/core/Button';\nimport Box from '@material-ui/core/Box';\nimport Typography from '@material-ui/core/Typography';\nimport { Alert } from '@material-ui/lab';\nimport Iframe from 'react-iframe';\n\nimport useModal from '../../hooks/useModal';\nimport CustomModal from '../common/CustomModal';\nimport LoginForm from '../auth/LoginForm';\nimport CreateAccountForm from '../auth/CreateAccountForm';\nimport PasswordResetForm from '../auth/PasswordResetForm';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    [theme.breakpoints.up('xs')]: {\n      width: '240px',\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: '300px',\n      top: '60vh',\n    },\n    top: '20vh',\n    zIndex: '1',\n  },\n  titleMobile: {\n    fontWeight: 600,\n    marginTop: '25vh',\n  },\n  box: {\n    [theme.breakpoints.up('xs')]: {\n      flexDirection: 'column',\n    },\n    [theme.breakpoints.up('md')]: {\n      flexDirection: 'row',\n    },\n  },\n  video: {\n    position: 'absolute',\n    top: 0,\n    left: 0,\n    width: '100%',\n    height: '100%',\n    pointerEvents: 'none',\n  },\n  cover: {\n    background:\n      // eslint-disable-next-line\n      'url(https://images.unsplash.com/photo-1519373344801-14c1f9539c9c?w=1920&h=1080&fit=crop&crop=bottom) no-repeat center',\n    backgroundSize: 'cover',\n    position: 'fixed',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    zIndex: '-1',\n  },\n  text: {\n    [theme.breakpoints.up('xl')]: {\n      fontSize: 'calc(5px + 9vw + 0.8vh)',\n    },\n    position: 'absolute',\n    top: 0,\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    width: '100%',\n    height: '100%',\n    fontSize: 'calc(5px + 13vw + 0.8vh)',\n    fontWeight: 900,\n    letterSpacing: '0.15em',\n    margin: 'auto',\n    textTransform: 'uppercase',\n    userSelect: 'none',\n    backgroundColor: '#060629',\n    border: '1px red',\n    color: '#fff',\n    mixBlendMode: 'multiply',\n  },\n  alertContainer: {\n    [theme.breakpoints.up('xs')]: {\n      width: '300px',\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: '400px',\n    },\n    margin: 'auto',\n  },\n  alert: {\n    position: 'absolute',\n    top: '10vh',\n    [theme.breakpoints.up('xs')]: {\n      width: '300px',\n    },\n    [theme.breakpoints.up('sm')]: {\n      width: '400px',\n    },\n  },\n}));\n\nconst Landing = ({ setUser, alert }) => {\n  const { t } = useTranslation();\n  const history = useHistory();\n  const classes = useStyles();\n  const isMobile = useMediaQuery('(max-width:600px)');\n\n  const passwordResetModal = useModal(<PasswordResetForm />);\n  useEffect(() => {\n    if (/^(\\/recoverylink)+/.test(history.location.pathname)) {\n      passwordResetModal.handleClickOpen(true);\n    }\n  }, []);\n\n  const loginModal = useModal(<LoginForm setUser={setUser} />);\n  const createAccountModal = useModal(<CreateAccountForm setUser={setUser} />);\n\n  return (\n    <div>\n      {isMobile ? (\n        <Typography\n          component=\"h1\"\n          variant=\"h3\"\n          className={classes.titleMobile}\n          align=\"center\"\n        >\n          HYPERTUBE\n        </Typography>\n      ) : (\n        <div className={classes.cover}>\n          <div className={classes.video}>\n            <Iframe\n              // eslint-disable-next-line\n              url=\"https://www.youtube.com/embed/y2TET3G0sJ4?controls=0&showinfo=0&rel=0&autoplay=1&loop=1&mute=1&playlist=y2TET3G0sJ4\"\n              width=\"100%\"\n              height=\"100%\"\n              id=\"myId\"\n              display=\"initial\"\n              position=\"relative\"\n              allowFullScreen\n            />\n            <h1 className={classes.text}>HYPERTUBE</h1>\n          </div>\n        </div>\n      )}\n\n      <Box\n        mt={5}\n        display=\"flex\"\n        justifyContent=\"center\"\n        className={classes.box}\n      >\n        <Box m={3} style={{ alignSelf: 'center' }}>\n          <Button\n            className={classes.button}\n            type=\"submit\"\n            variant=\"outlined\"\n            color=\"primary\"\n            onClick={loginModal.handleClickOpen}\n          >\n            {t('login.login')}\n          </Button>\n        </Box>\n        <Box m={3} style={{ alignSelf: 'center' }}>\n          <Button\n            className={classes.button}\n            type=\"submit\"\n            variant=\"outlined\"\n            color=\"secondary\"\n            onClick={createAccountModal.handleClickOpen}\n          >\n            {t('createAccount.create')}\n          </Button>\n        </Box>\n      </Box>\n      {alert.values.show && (\n        <Box className={classes.alertContainer}>\n          <Alert\n            className={classes.alert}\n            severity={alert.values.severity}\n            onClose={alert.closeAlert}\n          >\n            {alert.values.message}\n          </Alert>\n        </Box>\n      )}\n      <CustomModal {...loginModal} />\n      <CustomModal {...createAccountModal} />\n      <CustomModal {...passwordResetModal} />\n    </div>\n  );\n};\n\nLanding.propTypes = {\n  setUser: PropTypes.func.isRequired,\n  alert: PropTypes.object.isRequired,\n};\n\nexport default Landing;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\nimport { Alert } from '@material-ui/lab';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteIcon from '@material-ui/icons/Delete';\n\nimport emptyAvatar from '../../../images/emptyAvatar.png';\n\nconst useStyles = makeStyles(() => ({\n  imageContainer: {\n    width: '200px',\n    height: '200px',\n    overflow: 'hidden',\n    marginTop: '16px',\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  image: {\n    maxWidth: '200px',\n    maxHeight: '200px',\n    display: 'block',\n    cursor: 'pointer',\n  },\n  input: {\n    display: 'none',\n  },\n  deleteButton: {\n    zIndex: 10,\n    position: 'relative',\n    left: '85px',\n    top: '-35px',\n  },\n}));\n\nconst UpdatePhoto = ({ avatar, setAvatar }) => {\n  const [alert, setAlert] = useState({\n    show: false,\n    message: '',\n    severity: '',\n  });\n  const { t } = useTranslation();\n  const classes = useStyles();\n\n  const handleUpload = (e) => {\n    e.preventDefault();\n\n    const reader = new FileReader();\n    const file = e.target.files[0];\n\n    if (!file) return;\n\n    if (!file.name.match(/.(jpg|jpeg|png|gif)$/i)) {\n      setAlert({\n        show: true,\n        message: t('profile.notImage'),\n        severity: 'error',\n      });\n      return;\n    }\n\n    if (file.size > 350000) {\n      setAlert({\n        show: true,\n        message: t('profile.imgSize'),\n        severity: 'error',\n      });\n      return;\n    }\n\n    reader.onloadend = () => {\n      setAvatar(reader.result);\n    };\n\n    reader.readAsDataURL(file);\n    if (alert.show) setAlert({ ...alert, show: false });\n  };\n\n  const handleDelete = () => {\n    setAvatar(null);\n  };\n\n  return (\n    <>\n      <Box className={classes.imageContainer}>\n        <input\n          accept=\"image/*\"\n          className={classes.input}\n          id=\"upload-input\"\n          data-testid=\"upload-input\"\n          type=\"file\"\n          onChange={handleUpload}\n        />\n\n        <label htmlFor=\"upload-input\">\n          <img\n            className={classes.image}\n            src={avatar || emptyAvatar}\n            alt=\"current profile picture\"\n          />\n        </label>\n      </Box>\n      {avatar && (\n        <IconButton\n          className={classes.deleteButton}\n          variant=\"button\"\n          size=\"small\"\n          color=\"inherit\"\n          key=\"logout\"\n          onClick={handleDelete}\n          title=\"delete\"\n        >\n          <DeleteIcon title=\"trash can\" />\n        </IconButton>\n      )}\n\n      {alert.show && (\n        <Alert\n          severity={alert.severity}\n          onClose={() => setAlert({ ...alert, show: false })}\n        >\n          {alert.message}\n        </Alert>\n      )}\n    </>\n  );\n};\n\nUpdatePhoto.defaultProps = {\n  avatar: null,\n};\n\nUpdatePhoto.propTypes = {\n  avatar: PropTypes.string,\n  setAvatar: PropTypes.func.isRequired,\n};\n\nexport default UpdatePhoto;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport FormButton from '../../common/FormButton';\nimport InputField from '../../common/InputField';\nimport useField from '../../../hooks/useField';\n\nimport { Alert } from '@material-ui/lab';\n\nconst UpdatePassword = (props) => {\n  const { classes, alert, setAlert, handleUpdate } = props;\n  const { t } = useTranslation();\n  const oldPassword = useField('password', 'password', 'update-old-password');\n  const password = useField('password', 'password', 'update-password');\n  const confirmPassword = useField(\n    'password',\n    'confirmPassword',\n    'update-confirm-pw'\n  );\n\n  const handlePasswordUpdate = async (event) => {\n    event.preventDefault();\n\n    if (!oldPassword.value || !password.value || !confirmPassword.value) return;\n    const data = {\n      oldPassword: oldPassword.value,\n      password: password.value,\n      confirmPassword: confirmPassword.value,\n    };\n\n    await handleUpdate(data, setAlert, {\n      oldPassword,\n      password,\n      confirmPassword,\n    });\n  };\n\n  return (\n    <form className={classes.form} onSubmit={handlePasswordUpdate} noValidate>\n      <InputField\n        values={oldPassword}\n        label={t('form.currentPassword')}\n        autocomplete=\"old-pwd\"\n        required={true}\n      />\n      <InputField\n        values={password}\n        label={t('form.newPassword')}\n        autocomplete=\"new-pwd\"\n      />\n      <InputField\n        values={confirmPassword}\n        label={t('form.confirmPassword')}\n        autocomplete=\"new-pwd\"\n      />\n\n      {alert.show && (\n        <Alert\n          className={classes.alert}\n          severity={alert.severity}\n          onClose={() => setAlert({ ...alert, show: false })}\n        >\n          {alert.message}\n        </Alert>\n      )}\n      <FormButton name={t('myProfile.updatePassword')} />\n    </form>\n  );\n};\n\nUpdatePassword.propTypes = {\n  classes: PropTypes.object.isRequired,\n  alert: PropTypes.object.isRequired,\n  setAlert: PropTypes.func.isRequired,\n  handleUpdate: PropTypes.func.isRequired,\n};\n\nexport default UpdatePassword;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport { Alert } from '@material-ui/lab';\nimport TextField from '@material-ui/core/TextField';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\n\nimport FormButton from '../../common/FormButton';\nimport InputField from '../../common/InputField';\nimport useField from '../../../hooks/useField';\n\nconst UpdateInformation = (props) => {\n  const { classes, userData, alert, setAlert, handleUpdate } = props;\n  const { t } = useTranslation();\n  const username = useField('text', 'updateUsername', 'update-username');\n  const firstName = useField('text', 'updateName', 'update-firstname');\n  const lastName = useField('text', 'updateName', 'update-lastname');\n  const email = useField('email', 'email', 'update-email');\n  const [lang, setLang] = useState({ label: '', code: '' });\n  const langOptions = [\n    { label: t('form.en'), code: 'en' },\n    { label: t('form.de'), code: 'de' },\n    { label: t('form.fi'), code: 'fi' },\n    { label: t('form.ru'), code: 'ru' },\n  ];\n\n  useEffect(() => {\n    setLang(langOptions.find((lang) => lang.code === userData.language));\n  }, [userData.language]);\n\n  const handleInformationUpdate = async (event) => {\n    event.preventDefault();\n\n    const data = {};\n    if (username.value && username.value !== userData.username) data.username = username.value;\n    if (email.value && email.value !== userData.email) data.email = email.value;\n    if (firstName.value && firstName.value !== userData.firstName) data.firstname = firstName.value;\n    if (lastName.value && lastName.value !== userData.lastName) data.lastname = lastName.value;\n    if (lang && lang.code !== userData.language) data.language = lang.code;\n\n    await handleUpdate(data, setAlert, {\n      username,\n      firstName,\n      lastName,\n      email,\n    });\n  };\n\n  return lang ? (\n    <form className={classes.form} onSubmit={handleInformationUpdate} noValidate>\n      <InputField values={username} label={`${t('form.username')}: ${userData.username}`} />\n      <InputField values={firstName} label={`${t('form.firstName')}: ${userData.firstname}`} />\n      <InputField values={lastName} label={`${t('form.lastName')}: ${userData.lastname}`} />\n      <InputField values={email} label={`${t('form.email')}: ${userData.email}`} />\n      <Autocomplete\n        id=\"language\"\n        value={lang}\n        options={langOptions}\n        getOptionLabel={(option) => option.label}\n        getOptionSelected={(option, value) => option.value === value.value}\n        className={classes.select}\n        onChange={(event, value) => {\n          if (value !== null) setLang(value);\n        }}\n        renderInput={(params) => (\n          <TextField required {...params} label={t('form.selectLanguage')} variant=\"outlined\" />\n        )}\n      />\n\n      {alert.show && (\n        <Alert\n          className={classes.alert}\n          severity={alert.severity}\n          onClose={() => setAlert({ ...alert, show: false })}>\n          {alert.message}\n        </Alert>\n      )}\n      <FormButton name={t('myProfile.update')} />\n    </form>\n  ) : null;\n};\n\nUpdateInformation.propTypes = {\n  classes: PropTypes.object.isRequired,\n  userData: PropTypes.object.isRequired,\n  alert: PropTypes.object.isRequired,\n  setAlert: PropTypes.func.isRequired,\n  handleUpdate: PropTypes.func.isRequired,\n};\n\nexport default UpdateInformation;\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport { useTranslation } from 'react-i18next';\n\nimport Container from '@material-ui/core/Container';\nimport Grid from '@material-ui/core/Grid';\nimport { CssBaseline, Typography } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport userService from '../../../services/user';\nimport sharedFunctions from '../../../utils/sharedFunctions';\nimport UpdatePhoto from './UpdatePhoto';\nimport UpdatePassword from './UpdatePassword';\nimport UpdateInformation from './UpdateInformation';\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(6),\n    marginBottom: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  column: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n    padding: 0,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  select: {\n    width: '100%',\n    marginTop: theme.spacing(2),\n  },\n  alert: {\n    marginTop: theme.spacing(2),\n  },\n}));\n\nconst MyProfile = ({ user, setUser }) => {\n  const [userData, setUserData] = useState({ language: '' });\n\n  const [avatar, setAvatar] = useState(null);\n  const noAlert = { show: false, message: '', severity: '' };\n  const [alert, setAlert] = useState(noAlert);\n  const [passwordAlert, setPasswordAlert] = useState(noAlert);\n  const classes = useStyles();\n  const { t } = useTranslation();\n\n  const handleErrorResponse = (data, showAlert, params) => {\n    switch (data.statusCode) {\n      case 401:\n        showAlert({\n          show: true,\n          message: t('error.unauthorized'),\n          severity: 'error',\n        });\n        break;\n      case 400:\n        sharedFunctions.showErrors(data.details, params);\n        break;\n      case 500:\n        showAlert({\n          show: true,\n          message: t('error.server'),\n          severity: 'error',\n        });\n        break;\n      default:\n        showAlert({\n          show: true,\n          message: t('error.unexpected'),\n          severity: 'error',\n        });\n        break;\n    }\n  };\n\n  const handleUpdate = async (data, showAlert, params) => {\n    setPasswordAlert(noAlert);\n    setAlert(noAlert);\n\n    if (userData.avatarBase64String !== avatar)\n      data.avatarBase64String = avatar;\n\n    if (Object.keys(data).length === 0) return;\n\n    try {\n      await userService.update(user.userId, data);\n      setUserData({ ...userData, ...data, avatarBase64String: avatar });\n      if (data.language) setUser({ ...user, lang: data.language });\n\n      showAlert({\n        show: true,\n        message: 'Account successfully updated',\n        severity: 'success',\n      });\n    } catch (err) {\n      handleErrorResponse(err.response.data, showAlert, params);\n    }\n  };\n\n  const updateInformationProps = {\n    classes,\n    userData,\n    alert,\n    setAlert,\n    handleUpdate,\n  };\n\n  const updatePasswordProps = {\n    classes,\n    alert: passwordAlert,\n    setAlert: setPasswordAlert,\n    handleUpdate,\n  };\n\n  useEffect(() => {\n    userService\n      .get(user.userId)\n      .then((res) => {\n        setUserData(res);\n      })\n      .catch((err) => {\n        handleErrorResponse(err.response.data, setAlert, {});\n      });\n  }, []);\n\n  useEffect(() => {\n    userData &&\n      userData.avatarBase64String &&\n      setAvatar(userData.avatarBase64String);\n  }, [userData]);\n\n  return userData ? (\n    <Container component=\"main\" className={classes.paper} maxWidth=\"sm\">\n      <CssBaseline />\n      <Typography component=\"h1\" variant=\"h5\" gutterBottom>\n        {t('myProfile.title')}\n      </Typography>\n\n      <Grid container spacing={6}>\n        <Grid item xs={12} sm={5} className={classes.column}>\n          <UpdatePhoto avatar={avatar} setAvatar={setAvatar} />\n        </Grid>\n        <Grid item xs={12} sm={7} className={classes.column}>\n          <UpdateInformation {...updateInformationProps} />\n          {userData.hasPw && <UpdatePassword {...updatePasswordProps} />}\n        </Grid>\n      </Grid>\n    </Container>\n  ) : null;\n};\n\nMyProfile.propTypes = {\n  user: PropTypes.object.isRequired,\n  setUser: PropTypes.func.isRequired,\n};\n\nexport default MyProfile;\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\n\nimport { withRouter } from 'react-router-dom';\n\nimport PlayCircleFilledWhiteIcon from '@material-ui/icons/PlayCircleFilledWhite';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\n\nimport MyProfile from '../profile/MyProfile';\nimport useModal from '../../hooks/useModal';\nimport CustomModal from '../common/CustomModal';\n\nimport PropTypes from 'prop-types';\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    '&:hover': {\n      background: 'inherit',\n      color: theme.palette.primary.main,\n    },\n  },\n}));\n\nconst NavBar = ({ user, setUser, clearFilter, setClearFilter }) => {\n  const { t } = useTranslation();\n  const classes = useStyles();\n  const isMobile = useMediaQuery('(max-width:600px)');\n\n  const handleClick = () => {\n    setClearFilter(!clearFilter);\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('token');\n    setUser({ userId: '', lang: '' });\n  };\n\n  const profile = useModal(<MyProfile user={user} setUser={setUser} />, 'sm');\n\n  const options = [\n    { icon: <PlayCircleFilledWhiteIcon />, onClick: handleClick, text: 'Hypertube' },\n    { icon: <AccountCircle />, onClick: profile.handleClickOpen, text: t('navbar.profile') },\n    { icon: <ExitToAppIcon />, onClick: handleLogout, text: t('navbar.logout') },\n  ];\n\n  return (\n    <AppBar style={{ padding: 0, backgroundColor: '#1b1d2f' }}>\n      <Toolbar>\n        <div style={{ width: '100%' }}>\n          <Box display=\"flex\">\n            {options.map((option, index) => {\n              return (\n                <Box\n                  key={`nav-${index}`}\n                  p={1}\n                  m={isMobile ? 'auto' : ''}\n                  flexGrow={!isMobile && index === 0 ? 1 : ''}>\n                  <Button\n                    startIcon={option.icon}\n                    size=\"large\"\n                    color=\"inherit\"\n                    className={classes.button}\n                    onClick={option.onClick}>\n                    {isMobile ? '' : option.text}\n                  </Button>\n                </Box>\n              );\n            })}\n          </Box>\n        </div>\n      </Toolbar>\n      <CustomModal {...profile} />\n    </AppBar>\n  );\n};\n\nNavBar.propTypes = {\n  user: PropTypes.object.isRequired,\n  setUser: PropTypes.func.isRequired,\n  clearFilter: PropTypes.bool.isRequired,\n  setClearFilter: PropTypes.func.isRequired,\n};\n\nexport default withRouter(NavBar);\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { Typography, useMediaQuery, Box, Button } from '@material-ui/core';\nimport { Tooltip } from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n  stickyBottom: {\n    position: 'fixed',\n    bottom: 0,\n    width: '100%',\n  },\n  button: {\n    color: theme.palette.text.secondary,\n  },\n}));\n\nconst Footer = () => {\n  const classes = useStyles();\n  const isMobile = useMediaQuery('(max-width:600px)');\n\n  const authors = [\n    {\n      name: 'tkuumola',\n      github: 'https://github.com/T7Q',\n    },\n    {\n      name: 'dmukaliyeva',\n      github: 'https://github.com/DianaMukaliyeva',\n    },\n    {\n      name: 'ismelich',\n      github: 'https://github.com/iljaSL',\n    },\n    {\n      name: 'llahti',\n      github: 'https://github.com/lapaset',\n    },\n    {\n      name: 'ehalmkro',\n      github: 'https://github.com/ehalmkro',\n    },\n  ];\n\n  return (\n    <div>\n      {!isMobile && (\n        <Box\n          className={classes.stickyBottom}\n          pt={4}\n          pb={2}\n          zIndex=\"1\"\n          bgcolor=\"background.secondary\"\n          color=\"text.secondary\"\n          textAlign=\"center\"\n        >\n          <Typography variant=\"body2\">\n            {' '}\n            © Copyright 2021 All Rights Reserved.{' '}\n          </Typography>\n          {authors.map((value, index) => {\n            return (\n              <span key={index}>\n                <Tooltip title=\"Open GitHub\" placement=\"top\">\n                  <Button\n                    size=\"small\"\n                    target=\"_blank\"\n                    href={value.github}\n                    className={classes.button}\n                  >\n                    {value.name}\n                  </Button>\n                </Tooltip>{' '}\n                {index !== 4 ? ' & ' : ''}\n              </span>\n            );\n          })}\n        </Box>\n      )}\n    </div>\n  );\n};\n\nexport default Footer;\n","import React, { useState, useEffect } from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n  useLocation,\n  useHistory,\n} from 'react-router-dom';\nimport jwt_decode from 'jwt-decode';\nimport i18next from 'i18next';\nimport { useTranslation } from 'react-i18next';\nimport { ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Container from '@material-ui/core/Container';\nimport Box from '@material-ui/core/Box';\nimport theme from './styles/theme';\n\nimport Hypertube from './components/gallery/Index';\nimport Landing from './components/layout/Landing';\nimport Navbar from './components/layout/Navbar';\nimport setAuthToken from './utils/setAuthToken';\nimport authService from './services/auth';\nimport useAlert from './hooks/useAlert';\nimport Footer from './components/layout/Footer';\n\nfunction App() {\n  const [user, setUser] = useState({ userId: '', lang: '' });\n  const location = useLocation();\n  const history = useHistory();\n  const [clearFilter, setClearFilter] = useState(false);\n  const alert = useAlert();\n  const { t } = useTranslation();\n\n  useEffect(() => {\n    const checkToken = async () => {\n      alert.closeAlert();\n      let token = localStorage.getItem('token');\n\n      if (!token && location.search.startsWith('?auth=')) {\n        const key = location.search.substr(6);\n        try {\n          token = await authService.getToken(key);\n        } catch (e) {\n          alert.showError(t('login.tryAgain'));\n        }\n      }\n\n      if (token) {\n        try {\n          const decoded = jwt_decode(token);\n          setAuthToken(token);\n          setUser({ userId: decoded.id, lang: decoded.lang });\n          history.push('/');\n        } catch (e) {\n          alert.showError(t('login.tryAgain'));\n        }\n      }\n    };\n\n    checkToken();\n  }, []);\n\n  useEffect(() => {\n    if (user.lang) {\n      i18next.changeLanguage(user.lang);\n    }\n  }, [user]);\n\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <Router>\n        <Container>\n          {user.userId && (\n            <Navbar\n              clearFilter={clearFilter}\n              setClearFilter={setClearFilter}\n              user={user}\n              setUser={setUser}\n            />\n          )}\n          <Box mt={10}>\n            <Route exact path=\"/\">\n              {user.userId ? (\n                <Hypertube\n                  clearFilter={clearFilter}\n                  user={user}\n                  setUser={setUser}\n                />\n              ) : (\n                <Landing setUser={setUser} alert={alert} />\n              )}\n            </Route>\n            <Switch>\n              <Route path=\"/recoverylink\">\n                <Landing setUser={setUser} alert={alert} />\n              </Route>\n            </Switch>\n          </Box>\n        </Container>\n        <Footer />\n      </Router>\n    </ThemeProvider>\n  );\n}\n\nexport default App;\n","// src/i18n.js\nimport i18n from 'i18next';\nimport Backend from 'i18next-xhr-backend';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\ni18n\n  .use(Backend)\n  // detect user language\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'en',\n    // debug: true,\n\n    interpolation: {\n      escapeValue: false,\n    },\n  });\n\nexport default i18n;\n","import React, { Suspense } from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport './i18n';\n\nReactDOM.render(\n  <Suspense fallback={<div>Loading</div>}>\n    <Router>\n      <App />\n    </Router>\n  </Suspense>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}